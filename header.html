<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aussie CTI – Header Embed</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

  <!-- Transparent background inside the iframe -->
<style>
  /* Global reset + transparent bg for Sites */
  *, *::before, *::after { box-sizing: border-box; }
  html, body {
    background: transparent !important;
    height: 100%;
    margin: 0;
    overflow-x: hidden; /* prevent horizontal scroll on mobile */
  }
  body {
    display: flex;          /* key: make page a flex column */
    min-height: 100%;       /* so children can stretch to iframe height */
    font-family: 'Roboto', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }
  h1, h2, h3, h4, h5, h6 { font-family: 'Lexend', sans-serif; font-weight: 600; }

  /* --- Layout --- */
  .wrap {
    /* key: stretch to fill the flex parent (the body) */
    flex: 1 1 auto;
    min-height: 100%;       /* fallback for older engines */
    display: grid;
    grid-template-columns: 1fr 1fr 1fr; /* left / middle / right */
    gap: 24px;
    align-items: start;
    padding: 24px;
    box-sizing: border-box;
  }

  /* Use dynamic viewport units only when supported (outside Sites this helps Safari) */
  @supports (min-height: 100dvh) {
    .wrap { min-height: 100dvh; }
  }

  .col-left { grid-column: 1; }

  .col-right {
    grid-column: 3;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    /* padding-bottom set per breakpoint below to reserve space for the absolute panel */
  }

  /* --- Left top: image inline with heading text --- */
  .left-top {
    display: flex;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
    max-width: 680px;
  }
  .left-top img.header-mark { height: 56px; width: auto; }
  .left-top h1 {
    margin: 0;
    line-height: 1.1;
    font-size: clamp(28px, 4vw, 54px);
    color: #111;
  }
  .left-top h1 .blue { color: #2563eb; }

  /* --- Right top logo --- */
  .right-logo {
    width: 30%;
    min-width: 120px;
    max-width: 240px;
    height: auto;
    object-fit: contain;
    margin-bottom: 8px;  /* breathing room above panel */
  }

  /* --- Rising panel (desktop/tablet behavior) --- */
  .panel {
    position: absolute;
    left: 0;
    right: 0;
    margin-left: auto;
    margin-right: 0;                   /* align to right edge by default */
    width: min(520px, 100%);
    bottom: -220px;                    /* start hidden below the column */
    background: rgba(255,255,255,0.78);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    box-shadow: 0 18px 40px rgba(0,0,0,0.28);
    padding: 20px 20px 14px;
    transition: bottom 700ms cubic-bezier(.22,.84,.37,1);
  }
  .panel.risen { bottom: 10px; }       /* sits 10px above bottom on desktop */

  /* content reveal */
  .panel h2, .panel p, .thumbs { opacity: 0; transition: opacity 420ms ease; }
  .panel.ready h2, .panel.ready p { opacity: 1; }
  .panel.ready .thumbs { opacity: 1; transition-delay: 120ms; }

  .panel h2 {
    margin: 0 0 6px 0;
    font-size: clamp(18px, 2.4vw, 24px);
    color: #111;
    text-align: left;
  }
  .panel p {
    margin: 0 0 10px 0;
    color: #2b2b2b;
    font-size: clamp(14px, 1.8vw, 16px);
    line-height: 1.45;
  }

  /* Thumbs */
  .thumbs {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: flex-start;
    margin-top: 6px;
  }
  .thumb {
    width: 88px; aspect-ratio: 1/1;
    border-radius: 12px; overflow: hidden;
    background: #eef2f7;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.06);
    cursor: pointer;
    transform: translateY(4px);
    transition: transform 180ms ease, box-shadow 180ms ease;
  }
  .thumb img {
    width: 100%; height: 100%; object-fit: cover; display: block;
    filter: grayscale(100%);
    transition: transform 220ms ease, filter 220ms ease;
  }
  .thumb:hover { transform: translateY(0); box-shadow: 0 8px 22px rgba(0,0,0,0.15); }
  .thumb:hover img { filter: none; transform: scale(1.04); }

  /* ===================== Breakpoints ===================== */

  /* Phones: stack, panel BELOW logo in normal flow (no absolute/fixed), no inner scroll */
  @media (max-width: 767.98px) {
    .wrap {
      grid-template-columns: 1fr;
      gap: 16px;
      padding: 16px;
      min-height: auto; /* avoid vh quirks in iframes */
    }
    .col-left, .col-right { grid-column: 1; }
    .col-right {
      align-items: flex-start;
      padding-bottom: 0;    /* no need to reserve space on mobile */
    }
    .right-logo { width: 42%; }
    .panel {
      position: relative;   /* normal flow */
      left: auto; right: auto;
      width: 100%; max-width: 100%;
      bottom: auto;
      margin-top: 16px;
      max-height: none;
      overflow: visible;
      transform: translateY(40px);
      transition: transform 700ms cubic-bezier(.22,.84,.37,1), opacity 420ms ease;
      opacity: 0;
    }
    .panel.risen { transform: translateY(0); opacity: 1; }
    .panel.ready h2, .panel.ready p, .panel.ready .thumbs { opacity: 1; }
  }

  /* Tablet: reserve space so absolute panel won't overlap the logo */
  @media (min-width: 768px) and (max-width: 991.98px) {
    .col-right { padding-bottom: 300px; } /* tuned up a bit to clear logo */
    .panel { width: min(500px, 100%); }
  }

  /* Desktop: more room so panel sits lower (looks bottom-anchored) */
  @media (min-width: 992px) and (max-width: 1399.98px) {
    .col-right { padding-bottom: 380px; } /* increase if your copy grows */
    .panel { width: min(520px, 100%); }
  }

  /* ≥1400: even more reserved space to feel “at bottom of page” */
  @media (min-width: 1400px) {
    .col-right { padding-bottom: 460px; }
  }
</style>

</head>
<body>
  <section class="wrap" role="region" aria-label="Hero">
    <!-- LEFT THIRD -->
    <div class="col-left">
      <div class="left-top">
        <img class="header-mark"
             src="https://res.cloudinary.com/ddkor0br0/image/upload/v1754972785/headertext_rebmeq.png"
             alt="Header graphic">
        <h1>
          Drive with the<br>
          true <span class="blue">blue</span><br>
          advantage
        </h1>
      </div>
    </div>

    <!-- RIGHT THIRD -->
    <div class="col-right">
      <img class="right-logo"
           src="https://res.cloudinary.com/ddkor0br0/image/upload/v1754972552/logo_sticker_transparent_wvcvvj.png"
           alt="Aussie CTI logo">

      <!-- Rising panel -->
      <div id="panel" class="panel" aria-live="polite">
        <h2>Built for Australian Conditions</h2>
        <p>
          Adjust pressures on the move at the push of a button. Each system is tailored to your setup,
          with customisable high, medium and low presets—plus the flexibility to fine-tune pressures
          using the rotary dial. Available in single, dual or multi-zone configurations to suit everything
          from small rigids to full road trains.
        </p>

        <div class="thumbs">
          <!-- Replace these with your real assets -->
          <div class="thumb"><img src="https://picsum.photos/seed/cti1/200" alt="Feature 1"></div>
          <div class="thumb"><img src="https://picsum.photos/seed/cti2/200" alt="Feature 2"></div>
          <div class="thumb"><img src="https://picsum.photos/seed/cti3/200" alt="Feature 3"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Animation: rise + robust reveal -->
  <script>
    window.addEventListener('load', () => {
      const panel = document.getElementById('panel');

      // Start animation after a short delay
      setTimeout(() => {
        panel.classList.add('risen');

        // Robust reveal: try transitionend, also fallback by timeout
        let revealed = false;
        const reveal = () => {
          if (revealed) return;
          revealed = true;
          panel.classList.add('ready');
        };

        // On desktop/tablet, bottom transition fires; on mobile we rely on fallback
        panel.addEventListener('transitionend', (e) => {
          if (e.propertyName === 'bottom' || e.propertyName === 'transform') reveal();
        });

        setTimeout(reveal, 900); // fallback if transitionend is skipped
      }, 2200);
    });
  </script>
</body>
</html>
